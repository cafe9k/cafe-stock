# 公告分类方案文档

## 概述

本文档记录了基于实际数据分析生成的公告分类方案。通过对数据库中 863,580 条公告的采样分析（10,000 条样本），设计了一套覆盖率高达 **94.02%** 的分类规则。

## 分析过程

### 1. 数据采样
- **数据源**: cafe_stock.db 数据库
- **总公告数**: 863,580 条
- **采样数量**: 10,000 条（随机采样）
- **分析时间**: 2025-12-16

### 2. 分类规则迭代

#### 初始版本（覆盖率: 55.47%）
- 10 个基础分类
- 基于常见业务场景设计
- 未覆盖: 44.53%

#### 优化版本（覆盖率: 88.84%）
- 新增 5 个分类：担保事项、债券相关、内部控制、资质认证、基金相关
- 扩充关键词库
- 未覆盖: 11.16%

#### 最终版本（覆盖率: 94.02%）
- 新增 6 个分类：募集资金、股权激励、投资者关系、持续督导、ESG报告、股份质押
- 共 21 个分类 + 1 个"其他"分类
- 未覆盖: 5.98%

### 3. 覆盖率提升
```
初始版本:  55.47%
优化版本:  88.84%  (+33.37%)
最终版本:  94.02%  (+38.55%)
```

## 分类体系

### 完整分类列表（按覆盖率排序）

| 分类 | 覆盖率 | 关键词数量 | 优先级 |
|------|--------|-----------|--------|
| 公司治理 | 31.03% | 21 | 5 |
| 财务报告 | 16.97% | 13 | 1 |
| 风险提示 | 6.14% | 14 | 4 |
| 债券相关 | 6.02% | 11 | 11 |
| 股权变动 | 5.69% | 11 | 3 |
| 交易公告 | 4.31% | 8 | 7 |
| 对外投资 | 3.68% | 10 | 9 |
| 基金相关 | 3.61% | 7 | 14 |
| 内部控制 | 2.94% | 6 | 12 |
| 担保事项 | 2.31% | 5 | 6 |
| 募集资金 | 2.26% | 6 | 16 |
| 分红派息 | 2.02% | 9 | 2 |
| 经营情况 | 1.91% | 16 | 10 |
| 投资者关系 | 1.11% | 5 | 18 |
| 股权激励 | 1.05% | 9 | 17 |
| 诉讼仲裁 | 0.79% | 9 | 15 |
| 持续督导 | 0.76% | 5 | 19 |
| 重大事项 | 0.45% | 10 | 8 |
| ESG报告 | 0.40% | 7 | 20 |
| 股份质押 | 0.33% | 6 | 21 |
| 资质认证 | 0.24% | 6 | 13 |
| **其他** | **5.98%** | - | - |

## 分类详情

### 1. 财务报告（优先级: 1）
**覆盖率**: 16.97%

**关键词**:
- 报告类: 年度报告、年报、半年度报告、半年报、季度报告、季报、一季报、三季报
- 财务类: 财务报告、财务报表
- 业绩类: 业绩快报、业绩预告、盈利预告、业绩说明会
- 审计类: 审计报告、审计、会计、会计师事务所

**典型示例**:
- "2023年年度报告"
- "2024年第三季度报告"
- "业绩预告修正公告"

### 2. 分红派息（优先级: 2）
**覆盖率**: 2.02%

**关键词**: 分红、派息、现金分红、送股、转增、利润分配、股利分配、权益分派、除权除息

**典型示例**:
- "2023年度利润分配预案公告"
- "权益分派实施公告"

### 3. 股权变动（优先级: 3）
**覆盖率**: 5.69%

**关键词**: 股权变动、权益变动、增持、减持、股份回购、回购股份、回购、限售股、解禁、股权激励、员工持股、出售股份、出售已回购

**典型示例**:
- "关于股东增持公司股份的公告"
- "关于股份回购进展的公告"

### 4. 风险提示（优先级: 4）
**覆盖率**: 6.14%

**关键词**: 风险提示、风险警示、异常波动、股价异常、ST、*ST、退市风险、退市、停牌、复牌、核查、问询、问询函、关注函、回复、回复函、澄清、澄清公告、资产减值、计提减值

**典型示例**:
- "股票交易异常波动公告"
- "关于回复深交所问询函的公告"

### 5. 公司治理（优先级: 5）
**覆盖率**: 31.03%（最高）

**关键词**: 董事会、董事会决议、监事会、监事会决议、股东大会、股东会、临时股东大会、独立董事、董事、高管、总经理、副总经理、财务总监、董事长、监事、任命、选举、辞职、离职、聘任、章程、章程修订、会议通知、会议决议、会议、提名、候选人

**典型示例**:
- "第五届董事会第十次会议决议公告"
- "关于召开2024年第一次临时股东大会的通知"

### 6. 担保事项（优先级: 6）
**覆盖率**: 2.31%

**关键词**: 担保、提供担保、反担保、担保额度、对外担保

**典型示例**:
- "关于为子公司提供担保的公告"
- "关于2024年度担保额度预计的公告"

### 7. 交易公告（优先级: 7）
**覆盖率**: 4.31%

**关键词**: 关联交易、日常关联交易、购买资产、出售资产、资产转让、股权转让、交易、买卖

**典型示例**:
- "关于日常关联交易的公告"
- "关于购买资产的公告"

### 8. 重大事项（优先级: 8）
**覆盖率**: 0.45%

**关键词**: 重大事项、重大事件、重大资产重组、资产重组、收购、兼并、并购、重组、整合、重大合同

**典型示例**:
- "重大资产重组进展公告"
- "关于签署重大合同的公告"

### 9. 对外投资（优先级: 9）
**覆盖率**: 3.68%

**关键词**: 对外投资、投资设立、设立、参股、控股、合资、合作、子公司、全资子公司、投资进展

**典型示例**:
- "关于对外投资设立子公司的公告"
- "关于投资项目进展的公告"

### 10. 经营情况（优先级: 10）
**覆盖率**: 1.91%

**关键词**: 经营情况、生产经营、经营数据、项目、工程、中标、中标公告、合同、签订合同、签署、协议、建设、施工、完成、竣工、授信、综合授信、银行授信

**典型示例**:
- "关于中标项目的公告"
- "关于申请银行综合授信额度的公告"

### 11. 债券相关（优先级: 11）
**覆盖率**: 6.02%

**关键词**: 债券、公司债、可转债、转债、可转换债券、付息、兑付、摘牌、发行、发行结果、信用评级、评级、转股

**典型示例**:
- "可转换公司债券付息公告"
- "公司债券发行结果公告"

### 12. 内部控制（优先级: 12）
**覆盖率**: 2.94%

**关键词**: 内部控制、内控、鉴证报告、自我评价、管理制度、信息披露

**典型示例**:
- "内部控制自我评价报告"
- "内部控制鉴证报告"

### 13. 资质认证（优先级: 13）
**覆盖率**: 0.24%

**关键词**: 高新技术企业、高新认定、资质、认证、许可证、证书、专利、知识产权

**典型示例**:
- "关于通过高新技术企业重新认定的公告"
- "关于获得专利证书的公告"

### 14. 基金相关（优先级: 14）
**覆盖率**: 3.61%

**关键词**: 基金、基金管理、开放日常、开放申购、开放赎回、基金份额、基金净值、估值调整

**典型示例**:
- "华夏基金旗下基金开放日常申购赎回业务的公告"
- "关于旗下部分基金估值调整情况的公告"

### 15. 诉讼仲裁（优先级: 15）
**覆盖率**: 0.79%

**关键词**: 诉讼、起诉、被诉、仲裁、纠纷、法律纠纷、判决、裁决、法律

**典型示例**:
- "关于诉讼事项的公告"
- "关于仲裁结果的公告"

### 16. 募集资金（优先级: 16）
**覆盖率**: 2.26%

**关键词**: 募集资金、闲置募集资金、现金管理、理财产品、补充流动资金、募集资金管理

**典型示例**:
- "关于使用闲置募集资金进行现金管理的公告"
- "关于使用部分闲置募集资金暂时补充流动资金的公告"

### 17. 股权激励（优先级: 17）
**覆盖率**: 1.05%

**关键词**: 股权激励、激励计划、股票期权、期权激励、限制性股票、激励对象、授予、行权、解锁

**典型示例**:
- "2024年股票期权激励计划公告"
- "关于向激励对象授予限制性股票的公告"

### 18. 投资者关系（优先级: 18）
**覆盖率**: 1.11%

**关键词**: 投资者关系、投资者关系活动、投资者关系管理、投资者接待、路演

**典型示例**:
- "投资者关系活动记录表"
- "投资者关系管理信息"

### 19. 持续督导（优先级: 19）
**覆盖率**: 0.76%

**关键词**: 持续督导、督导报告、定期现场检查、现场检查、跟踪报告

**典型示例**:
- "关于公司2023年度持续督导报告书"
- "持续督导定期现场检查报告"

### 20. ESG报告（优先级: 20）
**覆盖率**: 0.40%

**关键词**: ESG、ESG报告、社会责任、社会责任报告、可持续发展、环境报告、环境、社会及治理

**典型示例**:
- "2023年环境、社会及治理（ESG）报告"
- "2023年度社会责任报告"

### 21. 股份质押（优先级: 21）
**覆盖率**: 0.33%

**关键词**: 质押、股份质押、解除质押、股权质押、再质押、补充质押

**典型示例**:
- "关于股东股份解除质押的公告"
- "关于股东股份质押的公告"

## 使用说明

### TypeScript/JavaScript 中使用

```typescript
import { 
  classifyAnnouncement, 
  classifyAnnouncements,
  getCategoryStats,
  getCategoryColor,
  getCategoryIcon,
  AnnouncementCategory 
} from '@/utils/announcementClassifier';

// 单个分类
const category = classifyAnnouncement('2023年年度报告');
console.log(category); // '财务报告'

// 批量分类
const announcements = [
  { title: '2023年年度报告' },
  { title: '关于股东增持的公告' }
];
const classified = classifyAnnouncements(announcements);

// 获取统计
const stats = getCategoryStats(announcements);

// 获取UI配置
const color = getCategoryColor(AnnouncementCategory.FINANCIAL_REPORT); // 'blue'
const icon = getCategoryIcon(AnnouncementCategory.FINANCIAL_REPORT); // '📊'
```

### 在 Ant Design Table 中显示

```tsx
import { Tag } from 'antd';
import { classifyAnnouncement, getCategoryColor, getCategoryIcon } from '@/utils/announcementClassifier';

const columns = [
  {
    title: '分类',
    dataIndex: 'title',
    key: 'category',
    width: 120,
    render: (title: string) => {
      const category = classifyAnnouncement(title);
      const color = getCategoryColor(category);
      const icon = getCategoryIcon(category);
      return (
        <Tag color={color}>
          {icon} {category}
        </Tag>
      );
    }
  }
];
```

## 未来优化方向

### 1. 剩余 5.98% 未覆盖公告分析

未覆盖的公告主要包括：
- 财务决算报告（可归入财务报告类）
- 远期结售汇业务（可新增"金融衍生品"分类）
- 受托管理报告（可新增"受托管理"分类）
- 非经营性资金占用专项说明（可归入内部控制类）
- 质量回报行动方案（可归入经营情况类）

### 2. 可能的新增分类
- **金融衍生品**: 远期结售汇、套期保值、外汇业务等
- **受托管理**: 受托管理报告、托管业务等
- **资金占用**: 非经营性资金占用相关

### 3. 关键词优化
- 定期审查高频未覆盖公告
- 根据新出现的公告类型补充关键词
- 优化关键词优先级，减少误分类

## 性能考虑

- **时间复杂度**: O(n*m)，n为公告数量，m为关键词总数
- **优化策略**: 
  - 按优先级排序，高频分类优先匹配
  - 使用字符串包含检查（includes），性能良好
  - 可考虑使用 Trie 树或正则表达式优化（如需要）

## 维护建议

1. **定期验证**: 每季度对新增公告进行采样验证
2. **关键词更新**: 根据监管要求和业务变化更新关键词
3. **覆盖率监控**: 监控"其他"分类占比，超过 10% 时需要优化
4. **用户反馈**: 收集用户对分类准确性的反馈

## 附录

### 分析脚本
- `analyze-announcements.cjs`: 初始分析脚本
- `validate-classification.cjs`: 优化版本验证脚本
- `analyze-uncovered.cjs`: 未覆盖公告分析脚本
- `final-validation.cjs`: 最终版本验证脚本

### 报告文件
- `announcement-analysis-report.json`: 初始分析报告
- `final-classification-report.json`: 最终验证报告

---

**文档版本**: 1.0  
**最后更新**: 2025-12-16  
**作者**: AI Assistant  
**数据来源**: cafe_stock.db (863,580 条公告)

