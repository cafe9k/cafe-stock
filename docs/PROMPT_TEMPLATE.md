# 🚀 股票关注面板 - 开发提示词模板

## 快速启动提示词

复制以下提示词，用于后续开发：

---

### 提示词 1：初始化数据库和认证

```
请帮我初始化股票关注面板的数据库和认证系统：

1. 在 Supabase 创建以下表：
   - watch_groups（关注分组）
   - watch_stocks（关注股票）
   - stock_alerts（消息记录）
   - user_settings（用户设置）

2. 配置 RLS 策略，确保用户只能访问自己的数据

3. 创建 React 组件：
   - 登录/注册页面（使用 Supabase Auth）
   - 认证状态管理（Context）
   - 受保护路由

参考文档：docs/STOCK_PANEL_PRD.md 中的数据库设计章节
```

---

### 提示词 2：自选股管理功能

```
请实现自选股管理功能：

1. 股票搜索组件：
   - 输入框支持代码/名称搜索
   - 调用 Tushare stock_basic 接口
   - 显示搜索结果列表，点击添加

2. 关注列表组件：
   - 从 Supabase 读取用户关注的股票
   - 显示股票代码、名称
   - 支持删除操作
   - 支持拖拽排序

3. 分组管理：
   - 新建/编辑/删除分组
   - 股票可分配到不同分组
   - 侧边栏显示分组列表

UI 风格：深色主题，参考 docs/STOCK_PANEL_PRD.md 的配色方案
```

---

### 提示词 3：行情展示功能

```
请实现股票行情展示功能：

1. 股票卡片组件：
   - 显示：代码、名称、价格、涨跌幅、成交量、换手率
   - 涨红跌绿配色
   - 悬浮显示更多信息（PE、PB、市值）

2. 数据获取：
   - 调用 Tushare daily + daily_basic 接口
   - 使用 React Query 缓存数据
   - 支持手动刷新

3. 布局：
   - 响应式网格布局
   - 点击卡片展开详情面板
   - 详情面板显示更多指标

数据接口：
- 日线行情：daily (ts_code, trade_date, close, change, pct_chg, vol, amount)
- 每日指标：daily_basic (ts_code, trade_date, turnover_rate, pe, pb, total_mv)
```

---

### 提示词 4：消息系统功能

```
请实现重要消息系统：

1. 消息扫描服务：
   - 获取用户关注股票列表
   - 并行查询消息接口：
     * top_list（龙虎榜）
     * block_trade（大宗交易）
     * stk_holdertrade（股东增减持）
     * share_float（限售解禁）
     * suspend_d（停复牌）
   - 筛选关注股票的消息
   - 写入 stock_alerts 表

2. 消息展示组件：
   - 顶部横幅显示未读消息
   - 消息列表（按日期分组）
   - 消息详情弹窗
   - 标记已读功能

3. 消息优先级：
   - 高（红色）：龙虎榜、大宗交易、停牌
   - 中（橙色）：业绩预告、分红送股
   - 低（灰色）：股东人数、质押变化

消息在用户登录时和手动刷新时更新
```

---

### 提示词 5：详情面板和优化

```
请实现股票详情面板和整体优化：

1. 详情面板：
   - K线图（可使用 ECharts 或 Lightweight Charts）
   - 近30日行情数据表格
   - 相关消息时间线
   - 用户备注编辑

2. 技术指标（可选）：
   - 调用 stk_factor 或自行计算
   - 显示 MACD、KDJ、RSI 信号

3. 性能优化：
   - 虚拟滚动（股票列表 > 50）
   - 图片懒加载
   - 数据预加载

4. 移动端适配：
   - 底部 Tab 导航
   - 卡片单列布局
   - 滑动操作（删除、移动分组）
```

---

## 单次任务提示词

### 添加新消息类型

```
请添加【融资融券】消息类型：

1. 接口：margin
2. 触发条件：融资余额日变化超过 5%
3. 优先级：中
4. 更新消息扫描逻辑和消息展示组件
```

### 修复 Bug

```
请修复以下问题：

问题描述：[具体描述]
复现步骤：[1. 2. 3.]
期望行为：[应该怎样]
实际行为：[实际怎样]
```

### UI 调整

```
请调整股票卡片样式：

1. 增加卡片圆角到 12px
2. 添加微妙的悬浮阴影效果
3. 涨跌幅字体加粗
4. 添加卡片点击动画
```

---

## 注意事项提醒

每次开发时，可以附加以下提醒：

```
注意事项：
1. 所有 Supabase 操作直接在生产环境运行
2. Tushare 接口通过 Edge Function 代理调用
3. 日期格式使用 YYYYMMDD
4. 股票代码格式：000001.SZ / 600000.SH
5. 遵循现有项目的代码风格
```

---

## 进度追踪

| 阶段 | 状态 | 完成日期 |
|------|------|----------|
| 数据库初始化 | ⬜ 待开始 | |
| 用户认证 | ⬜ 待开始 | |
| 自选股管理 | ⬜ 待开始 | |
| 行情展示 | ⬜ 待开始 | |
| 消息系统 | ⬜ 待开始 | |
| 详情面板 | ⬜ 待开始 | |
| 移动端适配 | ⬜ 待开始 | |

---

*使用方法：复制对应的提示词，粘贴到对话中即可开始开发*

